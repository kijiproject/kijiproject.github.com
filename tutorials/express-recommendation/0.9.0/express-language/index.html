
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>KijiExpress Language</title>
    <meta name="description" content="Short introduction to the KijiExpress language.">
    <meta name="author" content="WibiData">
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/twitter/css/github.css" rel="stylesheet" type="text/css" media="all">
    <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript"></script>
    <script src="/assets/themes/twitter/vallenato/vallenato.js" type="text/javascript"></script>
    <link rel="stylesheet" href="/assets/themes/twitter/css/vallenato.css" type="text/css" media="screen">
  </head>

  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="brand" href="http://www.kiji.org">Kiji Community</a>
          <ul class="nav">
            <li class="dropdown">
              <a href="http://www.kiji.org">The Kiji Project</a>
              <ul class="dropdown-menu">
                <li class="menu-item">
                  <a href="http://www.kiji.org/features">Features</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="http://www.kiji.org/architecture">Architecture</a>
            </li>
            <li class="dropdown">
              <a href="http://www.kiji.org/getstarted/">Get Started</a>
              <ul class="dropdown-menu">
                <li class="menu-item">
                  <a href="http://www.kiji.org/getstarted/#Downloads">Downloads</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.kiji.org/getstarted/#Installation">Installation</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.kiji.org/getstarted/#Quick_Start_Guide">Quick Start Guide</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.kiji.org/get-started-with-maven">Getting Started with Maven</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.kiji.org/getstarted/#Training_Services">
                    Training & Services
                  </a>
                </li>
              </ul>
            </li>
            <li class="dropdown">
              <a href="http://www.kiji.org/getinvolved">Get Involved</a>
              <ul class="dropdown-menu">
                <li class="menu-item">
                  <a href="http://www.kiji.org/getinvolved/#Mailing_Lists">Mailing Lists</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.kiji.org/getinvolved/#Source_Code">Source Code</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.kiji.org/getinvolved/#Issue_Tracker">Issue Tracking</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.kiji.org/getinvolved/#Contributing_to_Kiji">
                    Contributing to Kiji
                  </a>
                </li>
              </ul>
            </li>
            <li class="dropdown active">
              <a href="/">Documentation</a>
              <ul class="dropdown-menu">
                <li class="menu-item">
                  <a href="http://www.kiji.org/getstarted/#Quick_Start_Guide">Quick Start Guide</a>
                </li>
                <li class="menu-item">
                  <a href="/tutorials.html">Tutorials</a>
                </li>
                <li class="menu-item">
                  <a href="/userguides.html">
                    User Guides
                  </a>
                </li>
                <li class="menu-item">
                  <a href="/apidocs">API Reference</a>
                </li>
                <li class="menu-item">
                  <a href="https://github.com/kijiproject/wiki/wiki">Wiki</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="http://www.kiji.org/blog/">Blog</a>
            </li>
            <li>
              <a href="http://www.kiji.org/aboutkiji">About Kiji</a>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="content">
        
<div class="row-fluid">
  <div class="span9">
    <div class="page-header">
      <h1>KijiExpress Language</h1>
    </div>

    <div class="pagination">
      <ul>
    
      
      
    
      

      
        
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
              <li class="prev">
                <a href="/tutorials/express-recommendation/0.9.0/express-overview" title="Overview">
                &larr; Previous
                </a>
              </li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
      

      
      
        
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
              <li class="next">
                <a href="/tutorials/express-recommendation/0.9.0/express-setup" title="Setting up Kiji and HDFS">
                Next &rarr;
                </a>
              </li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
      
      </ul>
    </div>

    <p>This section introduces Scala and the KijiExpress language. It does not have any tutorial steps.
If you are already on board with Scala and the Scalding library for data processing,
skip ahead to <a href="../express-setup/">Setup</a>;
you can also refer back to the <a href="#summary">summary</a> at the end of this page.</p>

<p>KijiExpress is built on top of Twitter's <a href="http://github.com/twitter/scalding/wiki">Scalding</a>. Scalding is
a powerful <a href="http://www.scala-lang.org">Scala</a> library that can be used to process collections of data
using MapReduce. It uses <a href="http://www.cascading.org">Cascading</a>, which is a Java library that provides an abstraction over
MapReduce and gives us data flow control. (Scala + Cascading = "Scalding")</p>

<p><img src="../../../../assets/images/scala-context.png" alt="Scala-Scalding-Cascading-Hadoop-Stack" /></p>

<h3>Tuples and Pipelines</h3>

<p>KijiExpress views a data set as a collection of <em>named tuples</em>.  A named tuple can be thought of as
an ordered list where each element has a name. When using KijiExpress with data stored in a Kiji table,
a row from the Kiji table corresponds to a single tuple, where columns from the Kiji table correspond
to named fields in the tuple. KijiExpress provides a view of a
Kiji table as a collection of tuples by viewing each row from the table as a tuple.</p>

<p>By viewing a data set as a collection of named tuples, KijiExpress (through Scalding) allows you
to transform your data using common functional operations.</p>

<p>With Scalding, data processing occurs in <em>pipelines</em>, where the input and output
from each pipeline is a stream of named tuples represented by a data object. Each operation you
described in your KijiExpress program, or <em>job</em>, defines the input, output, and processing for a <em>pipe</em>.</p>

<h3>Jobs</h3>

<p>Scala - the language you'll write KijiExpress jobs in - is object-oriented, so while
functions are called with the familiar syntax <code>function(object)</code>, there are sometimes
<em>methods</em> defined on <em>objects</em>, where the syntax of using that method on the object is
<code>object.function(parameters)</code>.</p>

<p>For example, the line</p>

<div class="highlight"><pre><code class="scala"><span class="k">val</span> <span class="n">userData</span> <span class="k">=</span> <span class="n">userDataInput</span><span class="o">.</span><span class="n">project</span><span class="o">(</span><span class="-Symbol">&#39;username</span><span class="o">,</span> <span class="-Symbol">&#39;stateId</span><span class="o">,</span> <span class="-Symbol">&#39;totalSpent</span><span class="o">)</span>
</code></pre></div>


<p>is calling the <code>project</code> method on the object <code>userDataInput</code>, with the arguments <code>'username</code>,
<code>'stateId</code>, and <code>'totalSpent</code>.  The result of this is another object, called <code>userData</code>.</p>

<p>KijiExpress allows users to access tuple fields by using a ' (single quote) to name the field.
The function above operates
on the <code>username</code>, <code>stateId</code>, and <code>totalSpent</code> fields by including the <code>'username</code>, <code>'stateId</code>,
and <code>'totalSpent</code> symbols in the first parameter group.</p>

<p>When writing KijiExpress jobs, your methods will often take a first
argument group in parentheses that specifies a mapping from input field names to output field
names.  You can then define a function in curly braces <code>{}</code> immediately following that defines how
to map from the input fields to the output fields. The syntax looks like this:</p>

<div class="highlight"><pre><code class="scala"><span class="n">input</span><span class="o">.</span><span class="n">method</span> <span class="o">(</span><span class="-Symbol">&#39;input</span><span class="o">-</span><span class="n">field</span> <span class="o">-&gt;</span> <span class="-Symbol">&#39;output</span><span class="o">-</span><span class="n">field</span><span class="o">)</span> <span class="o">{</span><span class="n">x</span> <span class="k">=&gt;</span> <span class="n">function</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">}</span>
</code></pre></div>


<p>For example, in the line:</p>

<div class="highlight"><pre><code class="scala"><span class="k">val</span> <span class="n">userDataInput</span> <span class="k">=</span> <span class="n">input</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="-Symbol">&#39;line</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="-Symbol">&#39;username</span><span class="o">,</span> <span class="-Symbol">&#39;stateId</span><span class="o">,</span> <span class="-Symbol">&#39;totalSpent</span><span class="o">))</span> <span class="o">{</span> <span class="n">line</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=&gt;</span>
    <span class="o">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">0</span><span class="o">),</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">1</span><span class="o">),</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">2</span><span class="o">))</span> <span class="o">}</span>
</code></pre></div>


<p>We call the <code>map</code> method on <code>userDataInput</code>, from the input field <code>line</code> to the output fields
<code>username</code>, <code>stateId</code>, and <code>totalSpent</code>. Remember that fields are marked with the single quote.
Then to indicate how to map the input to output, we pass the function
<code>{ line: String =&gt; (line.split(" ")(0), line.split(" ")(1), line.split(" ")(2)) }</code> as another argument.
This function returns a 3-tuple; the elements of the output tuple are used to populate the
output fields <code>username</code>, <code>stateId</code>, and <code>totalSpent</code>.
When using the
<code>map</code> method, this function is called on the <code>line</code> field to populate the <code>username</code>,
<code>stateId</code>, and <code>totalSpent</code> fields.</p>

<h3>A Simple Example Job</h3>

<p>For a demonstration of some common methods on pipes, consider this simple KijiExpress job.  At
each step, fields in the tuple can be created and operated on.</p>

<p>This script reads customer data from "user-file.txt" and cleans it up. It keeps only users who have
spent more than $2, cleans up the data by joining it with side data in "state-names.txt", counts
the number of spendy users by state, and writes the result of that to an output file.</p>

<p>This script expects two files in the directory you run it from:
  1. "user-file.txt" which contains user data in the form "username stateID totalSpent" on each
      line.
  2. "state-names.txt" which contains a mapping from state IDs to state names in the form
      "numericalID stateName" on each line, for example "1 California".</p>

<p>A detailed description of each part follows the script.</p>

<div class="highlight"><pre><code class="scala"><span class="c1">// Read data from a text file.</span>
<span class="k">val</span> <span class="n">input</span> <span class="k">=</span> <span class="nc">TextLine</span><span class="o">(</span><span class="s">&quot;user-file.txt&quot;</span><span class="o">)</span>

<span class="c1">// Split each line on spaces into the fields username, stateId, and totalSpent.</span>
<span class="k">val</span> <span class="n">userDataInput</span> <span class="k">=</span> <span class="n">input</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="-Symbol">&#39;line</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="-Symbol">&#39;username</span><span class="o">,</span> <span class="-Symbol">&#39;stateId</span><span class="o">,</span> <span class="-Symbol">&#39;totalSpent</span><span class="o">))</span> <span class="o">{</span> <span class="n">line</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=&gt;</span>
    <span class="c1">// Split the line up on the spaces, and create a tuple with the first, second, and third words</span>
    <span class="c1">// in the line, in that order.</span>
    <span class="o">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">0</span><span class="o">),</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">1</span><span class="o">),</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">2</span><span class="o">))</span> <span class="o">}</span>

<span class="c1">// Only keep the username, stateId, and totalSpent fields.</span>
<span class="k">val</span> <span class="n">userData</span> <span class="k">=</span> <span class="n">userDataInput</span><span class="o">.</span><span class="n">project</span><span class="o">(</span><span class="-Symbol">&#39;username</span><span class="o">,</span> <span class="-Symbol">&#39;stateId</span><span class="o">,</span> <span class="-Symbol">&#39;totalSpent</span><span class="o">)</span>

<span class="c1">// Keep only the customers who spent more than $2.00.</span>
<span class="k">val</span> <span class="n">importantCustomerData</span> <span class="k">=</span> <span class="n">userData</span><span class="o">.</span><span class="n">filter</span><span class="o">(</span><span class="-Symbol">&#39;totalSpent</span><span class="o">)</span> <span class="o">{</span> <span class="n">totalSpent</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=&gt;</span>
    <span class="n">totalSpent</span><span class="o">.</span><span class="n">toDouble</span> <span class="o">&gt;</span> <span class="mf">2.0</span> <span class="o">}</span>

<span class="c1">// Create a new pipeline containing state ID to state name mappings.</span>
<span class="k">val</span> <span class="n">sideData</span> <span class="k">=</span> <span class="nc">TextLine</span><span class="o">(</span><span class="s">&quot;state-names.txt&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="-Symbol">&#39;line</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="-Symbol">&#39;numericalStateId</span><span class="o">,</span> <span class="-Symbol">&#39;stateName</span><span class="o">))</span> <span class="o">{</span> <span class="n">line</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=&gt;</span>
        <span class="c1">// Split the line up on the spaces, and create a tuple with the first and second words in</span>
        <span class="c1">// the line.</span>
        <span class="o">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">0</span><span class="o">),</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">1</span><span class="o">))</span>
    <span class="o">}</span>

<span class="c1">// Join the pipelines on the field stateId from &quot;importantCustomerData&quot; and numericalStateId</span>
<span class="c1">// from &quot;sideData&quot;.</span>
<span class="k">val</span> <span class="n">importantCustomerDataWithStateNames</span> <span class="k">=</span>
      <span class="n">importantCustomerData</span><span class="o">.</span><span class="n">joinWithSmaller</span><span class="o">(</span><span class="-Symbol">&#39;stateId</span> <span class="o">-&gt;</span> <span class="-Symbol">&#39;numericalStateId</span><span class="o">,</span> <span class="n">sideData</span><span class="o">)</span>

<span class="c1">// Group by the states customers are from and compute the size of each group.</span>
<span class="k">val</span> <span class="n">importantCustomersPerState</span> <span class="k">=</span>
    <span class="n">importantCustomerDataWithStateNames</span><span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="-Symbol">&#39;stateName</span><span class="o">)</span> <span class="o">{</span> <span class="n">group</span> <span class="k">=&gt;</span>
        <span class="n">group</span><span class="o">.</span><span class="n">size</span><span class="o">(</span><span class="-Symbol">&#39;customersPerState</span><span class="o">)</span> <span class="o">}</span>

<span class="c1">// Output to a file in tab-separated form.</span>
<span class="n">importantCustomersPerState</span><span class="o">.</span><span class="n">write</span><span class="o">(</span><span class="nc">Tsv</span><span class="o">(</span><span class="s">&quot;important-customers-by-state.txt&quot;</span><span class="o">))</span>
</code></pre></div>


<h4>Input</h4>

<div class="highlight"><pre><code class="scala"><span class="c1">// Read data from a text file.</span>
<span class="k">val</span> <span class="n">input</span> <span class="k">=</span> <span class="nc">TextLine</span><span class="o">(</span><span class="s">&quot;user-file.txt&quot;</span><span class="o">)</span>
</code></pre></div>


<p>First, we read our input with <code>TextLine</code>, which is a predefined Scalding "source" that reads lines of
text from a file.
<code>TextLine</code> views a file (in this case the file <code>sideData.txt</code> in HDFS) as a collection of tuples
with one tuple corresponding to each line of text.  Each tuple has a field named <code>line</code> that
contains a line of text read from the file.  Although unused here, the tuples also contain a field
named <code>offset</code> that holds the byte offset in the file where the line read appears.</p>

<p>Once we have a view of the data set as a collection of tuples, we can use different operations to
derive results that can be stored in new tuple fields.</p>

<h4>Map</h4>

<div class="highlight"><pre><code class="scala"><span class="c1">// Split each line on spaces into the fields username, stateId, and totalSpent.</span>
<span class="k">val</span> <span class="n">userDataInput</span> <span class="k">=</span> <span class="n">input</span><span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="-Symbol">&#39;line</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="-Symbol">&#39;username</span><span class="o">,</span> <span class="-Symbol">&#39;stateId</span><span class="o">,</span> <span class="-Symbol">&#39;totalSpent</span><span class="o">))</span> <span class="o">{</span> <span class="n">line</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=&gt;</span>
    <span class="c1">// Split the line up on the spaces, and create a tuple with the first, second, and third words</span>
    <span class="c1">// in the line, in that order.</span>
    <span class="o">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">0</span><span class="o">),</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">1</span><span class="o">),</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">2</span><span class="o">))</span> <span class="o">}</span>
</code></pre></div>


<p>After this line, <code>userDataInput</code> contains the fields <code>line</code>, <code>username</code>, <code>stateId</code>, and <code>totalSpent</code>.
Notice that doing a <code>map</code> operation on <code>input</code> keeps the field <code>line</code> around, and adds the
<code>username</code>, <code>stateId</code>, and <code>totalSpent</code> fields. You can think of <code>userData</code> as a collection of named
tuples, where each has 4 fields.</p>

<h4>Project</h4>

<div class="highlight"><pre><code class="scala"><span class="c1">// Only keep the username, stateId, and totalSpent fields.</span>
<span class="k">val</span> <span class="n">userData</span> <span class="k">=</span> <span class="n">userDataInput</span><span class="o">.</span><span class="n">project</span><span class="o">(</span><span class="-Symbol">&#39;username</span><span class="o">,</span> <span class="-Symbol">&#39;stateId</span><span class="o">,</span> <span class="-Symbol">&#39;totalSpent</span><span class="o">)</span>
</code></pre></div>


<p>We no longer need the <code>line</code> field.  The <code>project</code> method projects the tuples onto the specified fields,
discarding any unspecified fields. <code>userData</code> contains the same tuples as <code>userDataInput</code>, but
without the <code>line</code> and <code>offset</code> fields that <code>TextLine</code> provided.</p>

<h4>Filter</h4>

<div class="highlight"><pre><code class="scala"><span class="c1">// Keep only the customers who spent more than $2.00.</span>
<span class="k">val</span> <span class="n">importantCustomerData</span> <span class="k">=</span> <span class="n">userData</span><span class="o">.</span><span class="n">filter</span><span class="o">(</span><span class="-Symbol">&#39;totalSpent</span><span class="o">)</span> <span class="o">{</span> <span class="n">totalSpent</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=&gt;</span>
    <span class="n">totalSpent</span><span class="o">.</span><span class="n">toDouble</span> <span class="o">&gt;</span> <span class="mf">2.0</span> <span class="o">}</span>
</code></pre></div>


<p>After this line, "importantCustomerData" can be thought of as a collection of named tuples,
where each has the same 3 fields as "userData" does: <code>username</code>, <code>stateId</code>, and <code>totalSpent</code>.  The
difference is that not all the tuples from "userData" are included: only the ones for which the
function we provide to the "filter" operation evaluates to "true" are included.  So,
"importantCustomerData" includes only the data for the users who have spent more than 2 dollars on
our service.</p>

<h4>Join</h4>

<div class="highlight"><pre><code class="scala"><span class="c1">// Create a new pipeline containing state ID to state name mappings.</span>
<span class="k">val</span> <span class="n">sideData</span> <span class="k">=</span> <span class="nc">TextLine</span><span class="o">(</span><span class="s">&quot;state-names.txt&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="n">map</span><span class="o">(</span><span class="-Symbol">&#39;line</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="-Symbol">&#39;numericalStateId</span><span class="o">,</span> <span class="-Symbol">&#39;stateName</span><span class="o">))</span> <span class="o">{</span> <span class="n">line</span><span class="k">:</span> <span class="kt">String</span> <span class="o">=&gt;</span>
        <span class="c1">// Split the line up on the spaces, and create a tuple with the first and second words in</span>
        <span class="c1">// the line.</span>
        <span class="o">(</span><span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">0</span><span class="o">),</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">1</span><span class="o">))</span>
    <span class="o">}</span>

<span class="c1">// Join the pipelines on the field &#39;stateId from &quot;importantCustomerData&quot; and &#39;numericalStateId</span>
<span class="c1">// from &quot;sideData&quot;.</span>
<span class="k">val</span> <span class="n">importantCustomerDataWithStateNames</span> <span class="k">=</span>
      <span class="n">importantCustomerData</span><span class="o">.</span><span class="n">joinWithSmaller</span><span class="o">(</span><span class="-Symbol">&#39;stateId</span> <span class="o">-&gt;</span> <span class="-Symbol">&#39;numericalStateId</span><span class="o">,</span> <span class="n">sideData</span><span class="o">)</span>
</code></pre></div>


<p>First we define the pipeline to join with. "sideData" is a pipe containing tuples with fields
"line", "numericalStateId", and "stateName". You've seen <code>TextLine</code> and <code>.map</code> before.
Notice that instead of defining all the intermediate values as we have been, you can just chain calls
such as "<code>.map</code>" on pipes, so that your pipeline can look like
<code>TextLine(inputfile).map(...).filter(...)</code>.</p>

<p>We now join our main pipeline with the sideData pipe.  When we join two pipelines, we specify which field
from the main pipeline (in this case, the field "stateId") should be joined with which field from the side
pipeline (the field "numericalStateId" from the "sideData").  For
all tuples in the main pipeline, we've added all the fields from "sideData", in this case a single field
<code>stateName</code>.</p>

<p>Since "sideData" is smaller than "importantCustomerData" (sideData contains only 50 tuples, one for each state in the United
States, while "importantCustomerData" could be very big), we use the "joinWithSmaller"
operation on "importantCustomerData".  This lets Scalding optimize the MapReduce jobs.</p>

<h4>Group by</h4>

<div class="highlight"><pre><code class="scala"><span class="c1">// Group by the states customers are from and compute the size of each group.</span>
<span class="k">val</span> <span class="n">importantCustomersPerState</span> <span class="k">=</span>
    <span class="n">importantCustomerDataWithStateNames</span><span class="o">.</span><span class="n">groupBy</span><span class="o">(</span><span class="-Symbol">&#39;stateName</span><span class="o">)</span> <span class="o">{</span> <span class="n">group</span> <span class="k">=&gt;</span>
        <span class="n">group</span><span class="o">.</span><span class="n">size</span><span class="o">(</span><span class="-Symbol">&#39;customersPerState</span><span class="o">)</span> <span class="o">}</span>
</code></pre></div>


<p>This step groups the tuples from the previous step by their stateName, and for each group,
puts the size of the group in a new field called "customersPerState".</p>

<h4>Output</h4>

<div class="highlight"><pre><code class="scala"><span class="c1">// Output to a file in tab-separated form.</span>
<span class="n">importantCustomersPerState</span><span class="o">.</span><span class="n">write</span><span class="o">(</span><span class="nc">Tsv</span><span class="o">(</span><span class="s">&quot;important-customers-by-state.txt&quot;</span><span class="o">))</span>
</code></pre></div>


<p><code>Tsv</code> is one of the predefined Scalding sources. It writes the tuples out to a
file in tab-separated form.
KijiExpress provides sources to read
from and write to Kiji tables, which you will see later in the tutorial.</p>

<h4>Results</h4>

<p>If you run this script where the contents of "user-file.txt" are:</p>

<div class="highlight"><pre><code class="scala"><span class="n">daisy</span> <span class="mi">1</span> <span class="mi">3</span>
<span class="n">robert</span> <span class="mi">4</span> <span class="mi">0</span>
<span class="n">kiyan</span> <span class="mi">2</span> <span class="mi">5</span>
<span class="n">juliet</span> <span class="mi">1</span> <span class="mi">4</span>
<span class="n">renuka</span> <span class="mi">2</span> <span class="mi">2</span>
</code></pre></div>


<p>and the contents of "state-names.txt" are:</p>

<div class="highlight"><pre><code class="scala"><span class="mi">1</span> <span class="nc">California</span>
<span class="mi">2</span> <span class="nc">Washington</span>
</code></pre></div>


<p>Then the output in the file <code>important-customers-by-state.txt</code> is:</p>

<div class="highlight"><pre><code class="scala"><span class="nc">California</span>  <span class="mi">2</span>
<span class="nc">Washington</span>  <span class="mi">1</span>
</code></pre></div>


<p>Which shows that there are 2 customers in California who spent more than $2.00, and 1 in Washington
who spent more than $2.00.</p>

<h3>Scala Quick Reference<a id="summary"> </a></h3>

<p>To summarize the Scala phrases that were critical to the basic job:</p>

<ul>
<li><strong>Indicate Fields</strong></li>
</ul>


<p>Precede field names with a single quote:</p>

<div class="highlight"><pre><code class="scala"><span class="o">&lt;</span><span class="n">object</span><span class="o">&gt;.</span><span class="n">map</span><span class="o">((</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">input</span><span class="o">-</span><span class="n">field</span><span class="o">&gt;,</span> <span class="err">&#39;</span><span class="o">&lt;</span><span class="n">input</span><span class="o">-</span><span class="n">field</span><span class="o">&gt;</span> <span class="o">...)</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">mapped</span><span class="o">-</span><span class="n">field</span><span class="o">&gt;,</span> <span class="err">&#39;</span><span class="o">&lt;</span><span class="n">mapped</span><span class="o">-</span><span class="n">field</span><span class="o">&gt;,</span> <span class="o">..))</span>
</code></pre></div>


<ul>
<li><strong>Input From File</strong></li>
</ul>


<div class="highlight"><pre><code class="scala"><span class="k">val</span> <span class="o">&lt;</span><span class="n">variable</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="k">=</span> <span class="nc">TextLine</span><span class="o">(</span><span class="s">&quot;&lt;filename&gt;&quot;</span><span class="o">)</span>
</code></pre></div>


<ul>
<li><p><strong>Map</strong></p>

<p>  Include the input and output fields.</p></li>
</ul>


<div class="highlight"><pre><code class="scala"><span class="k">val</span> <span class="o">&lt;</span><span class="n">variable</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="k">=</span> <span class="o">&lt;</span><span class="n">object</span><span class="o">&gt;.</span><span class="n">map</span><span class="o">(</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">input</span><span class="o">-</span><span class="n">field</span><span class="o">&gt;</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">output</span><span class="o">-</span><span class="n">field1</span><span class="o">&gt;,</span> <span class="err">&#39;</span><span class="o">&lt;</span><span class="n">output</span><span class="o">-</span><span class="n">field2</span><span class="o">&gt;,</span> <span class="o">...))</span> <span class="o">{</span> <span class="o">&lt;</span><span class="n">map</span> <span class="n">function</span><span class="o">&gt;</span> <span class="o">}</span>
</code></pre></div>


<pre><code>Include only the output fields:
</code></pre>

<div class="highlight"><pre><code class="scala"><span class="k">val</span> <span class="o">&lt;</span><span class="n">variable</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="k">=</span> <span class="o">&lt;</span><span class="n">object</span><span class="o">&gt;.</span><span class="n">mapTo</span><span class="o">(</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">input</span><span class="o">-</span><span class="n">field</span><span class="o">&gt;</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">output</span><span class="o">-</span><span class="n">field1</span><span class="o">&gt;,</span> <span class="err">&#39;</span><span class="o">&lt;</span><span class="n">output</span><span class="o">-</span><span class="n">field2</span><span class="o">&gt;,</span> <span class="o">...))</span> <span class="o">{</span> <span class="o">&lt;</span><span class="n">map</span> <span class="n">function</span><span class="o">&gt;</span> <span class="o">}</span>
</code></pre></div>


<ul>
<li><strong>Split Tuple at Blanks</strong></li>
</ul>


<div class="highlight"><pre><code class="scala"><span class="o">{</span> <span class="o">&lt;</span><span class="n">object</span><span class="k">&gt;:</span> <span class="nc">String</span> <span class="k">=&gt;</span> <span class="o">(&lt;</span><span class="n">object</span><span class="o">&gt;.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">0</span><span class="o">),</span> <span class="o">&lt;</span><span class="n">object</span><span class="o">&gt;.</span><span class="n">split</span><span class="o">(</span><span class="s">&quot; &quot;</span><span class="o">)(</span><span class="mi">1</span><span class="o">))</span> <span class="o">}</span>
</code></pre></div>


<ul>
<li><strong>Project</strong></li>
</ul>


<div class="highlight"><pre><code class="scala"><span class="k">val</span> <span class="o">&lt;</span><span class="n">variable</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="k">=</span> <span class="o">&lt;</span><span class="n">object</span><span class="o">&gt;.</span><span class="n">project</span><span class="o">(</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">field1</span><span class="o">&gt;,</span> <span class="err">&#39;</span><span class="o">&lt;</span><span class="n">field2</span><span class="o">&gt;,</span> <span class="o">...)</span>
</code></pre></div>


<ul>
<li><strong>Filter</strong></li>
</ul>


<div class="highlight"><pre><code class="scala"><span class="k">val</span> <span class="o">&lt;</span><span class="n">variable</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="k">=</span> <span class="o">&lt;</span><span class="n">object</span><span class="o">&gt;.</span><span class="n">filter</span><span class="o">(</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">field</span><span class="o">&gt;,</span> <span class="err">&#39;</span><span class="o">&lt;</span><span class="n">field</span><span class="o">&gt;,</span> <span class="o">...)</span> <span class="o">{</span> <span class="n">function</span> <span class="o">}</span>
</code></pre></div>


<ul>
<li><p><strong>Join</strong></p>

<p>  In addition, there are methods <code>joinWithLarger</code> and <code>joinWithTiny</code>. See <a href="https://github.com/twitter/scalding/wiki/Fields-based-API-Reference#wiki-join-functions">Scalding Join
Operations</a>.</p></li>
</ul>


<div class="highlight"><pre><code class="scala"><span class="k">val</span> <span class="o">&lt;</span><span class="n">variable</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="k">=</span> <span class="o">&lt;</span><span class="n">object</span><span class="o">&gt;.</span><span class="n">joinWithSmaller</span><span class="o">(</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">field</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="k">this</span><span class="o">-</span><span class="n">data</span><span class="o">-</span><span class="n">set</span><span class="o">&gt;</span> <span class="o">-&gt;</span> <span class="err">&#39;</span><span class="o">&lt;</span><span class="n">field</span><span class="o">-</span><span class="n">from</span><span class="o">-</span><span class="n">other</span><span class="o">-</span><span class="n">data</span><span class="o">-</span><span class="n">set</span><span class="o">&gt;,</span> <span class="o">&lt;</span><span class="n">other</span><span class="o">-</span><span class="n">data</span><span class="o">-</span><span class="n">set</span><span class="o">&gt;)</span>
</code></pre></div>


<ul>
<li><strong>Group By</strong></li>
</ul>


<div class="highlight"><pre><code class="scala"><span class="k">val</span> <span class="o">&lt;</span><span class="n">variable</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="k">=</span> <span class="o">&lt;</span><span class="n">object</span><span class="o">&gt;.</span><span class="n">groupBy</span><span class="o">(</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">field</span><span class="o">&gt;)</span> <span class="o">{</span> <span class="o">&lt;</span><span class="n">group</span> <span class="n">function</span><span class="o">&gt;</span> <span class="o">}</span>
</code></pre></div>


<ul>
<li><strong>Group By Value</strong></li>
</ul>


<div class="highlight"><pre><code class="scala"><span class="k">val</span> <span class="o">&lt;</span><span class="n">variable</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="k">=</span> <span class="o">&lt;</span><span class="n">object</span><span class="o">&gt;.</span><span class="n">groupBy</span><span class="o">(</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">field</span><span class="o">&gt;)</span> <span class="o">{</span> <span class="n">x</span> <span class="k">=&gt;</span> <span class="n">x</span> <span class="o">}</span>
</code></pre></div>


<ul>
<li><strong>Calculate Size</strong></li>
</ul>


<div class="highlight"><pre><code class="scala"><span class="k">val</span> <span class="o">&lt;</span><span class="n">variable</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="k">=</span> <span class="o">&lt;</span><span class="n">object</span><span class="o">&gt;.</span><span class="n">groupBy</span><span class="o">(</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">field</span><span class="o">&gt;)</span> <span class="o">{</span> <span class="o">&lt;</span><span class="n">group</span><span class="o">&gt;</span> <span class="k">=&gt;</span> <span class="o">&lt;</span><span class="n">group</span><span class="o">&gt;.</span><span class="n">size</span><span class="o">(</span><span class="err">&#39;</span><span class="o">&lt;</span><span class="n">field</span><span class="o">&gt;)</span> <span class="o">}</span>
</code></pre></div>


<ul>
<li><strong>Output TSV</strong></li>
</ul>


<p>For other sources in addition to Tsv, see <a href="https://github.com/twitter/scalding/wiki/Scalding-Sources">Scalding Sources</a>.</p>

<div class="highlight"><pre><code class="scala"><span class="o">&lt;</span><span class="n">object</span><span class="o">&gt;.</span><span class="n">write</span><span class="o">(</span><span class="nc">Tsv</span><span class="o">(</span><span class="s">&quot;&lt;filename&gt;&quot;</span><span class="o">))</span>
</code></pre></div>


<h3>Scalding Resources</h3>

<p>There are many resources available to learn more about the Scalding library.</p>

<ul>
<li><a href="http://github.com/twitter/scalding/wiki/Fields-based-API-Reference">The Fields Based API
Reference</a> contains details on
the operations you can use with Scalding to derive results and transform collections of tuples.</li>
<li><a href="http://github.com/twitter/scalding">The Scalding Github Page</a> contains a copy of the project,
including an informative README file.</li>
<li><a href="http://github.com/twitter/scalding/wiki">The Scalding Wiki</a> contains links to many resources
about Scalding, including <a href="https://github.com/twitter/scalding/wiki/Scalding-Sources">Scalding Sources</a></li>
<li><a href="http://jim-mcbeath.blogspot.com/2009/05/scala-functions-vs-methods.html">Scala Functions and Methods</a> describes
how Scala distinguishes functions and methods, which might help you understand what's behind some
of Scala's syntax choices.</li>
</ul>



    <div class="pagination">
      <ul>
    
      
      
    
      

      
        
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
              <li class="prev">
                <a href="/tutorials/express-recommendation/0.9.0/express-overview" title="Overview">
                &larr; Previous
                </a>
              </li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
      

      
      
        
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
              <li class="next">
                <a href="/tutorials/express-recommendation/0.9.0/express-setup" title="Setting up Kiji and HDFS">
                Next &rarr;
                </a>
              </li>
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
            
            
          
        
      
      </ul>
    </div>
  </div>

  <div class="span3">
    
      
      
    
    <div class="side-toc">
    <div class="side-toc-inner">
      <h3>KijiExpress Tutorial</h3>
      <ul>
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/express-recommendation/0.9.0/express-overview">Overview</a>
                  
                </li>
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
                <li>
                  
                    <b>KijiExpress Language</b>
                  
                </li>
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/express-recommendation/0.9.0/express-setup">Setting up Kiji and HDFS</a>
                  
                </li>
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/express-recommendation/0.9.0/express-importing-data">Importing Data</a>
                  
                </li>
              
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/express-recommendation/0.9.0/express-play-count">PlayCount</a>
                  
                </li>
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/express-recommendation/0.9.0/express-top-next-song">Top Next Songs</a>
                  
                </li>
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/express-recommendation/0.9.0/express-recommendations">Recommendations Producer</a>
                  
                </li>
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
      </ul>
      <h3>Need Help?</h3>
      <ul>
        <li>
      <a class="btn btn-info"  href="https://groups.google.com/a/kiji.org/forum/?fromgroups#!forum/user">User Group Mailing List</a>
        </li>
        <li>
      <a class="btn btn-warning" href="https://jira.kiji.org/secure/CreateIssueDetails!init.jspa?pid=10004&issuetype=1&priority=3&components=10010&summary=Reported%20Docs%20Error:%20KijiExpress Language&description=Please%20describe%20the%20issue.%0a%0aurl:%20/tutorials/express-recommendation/0.9.0/express-language"> Report an Error in Docs </a> 
        </li>
    </ul>
    </div>
</div>

  </div>
</div>


      </div>

      <footer>
        <hr/>
        <p>&copy; Kiji Community</p>
      </footer>
    </div>

    


  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-REMOVED-DONT-COMMIT']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>

