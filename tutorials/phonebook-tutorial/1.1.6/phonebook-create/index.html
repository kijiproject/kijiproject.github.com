
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Create a Table</title>
    <meta name="description" content="To use a phonebook, you need a phonebook.">
    <meta name="author" content="WibiData">
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css" rel="stylesheet" type="text/css" media="all">
    <link href="/assets/themes/twitter/css/github.css" rel="stylesheet" type="text/css" media="all">
    <script src="http://code.jquery.com/jquery-latest.js" type="text/javascript"></script>
    <script src="/assets/themes/twitter/vallenato/vallenato.js" type="text/javascript"></script>
    <link rel="stylesheet" href="/assets/themes/twitter/css/vallenato.css" type="text/css" media="screen">

  </head>

  <body>
    <div class="navbar navbar-fixed-top">
           
      <div class="navbar-inner">
                     
        <div class="container-fluid">
         <a class="brand" href="http://www.kiji.org">
           <img src="http://www.kiji.org/wp-content/themes/spark/timthumb/timthumb.php?src=http%3A%2F%2Fwww.kiji.org%2Fwp-content%2Fuploads%2F2014%2F03%2FKiji-Logo2.png&h=160&w=0&q=90" style="height: 50px;" alt="Kiji Project">
         </a>
          <ul class="nav pull-right">

            <li class="dropdown">
              <a href="http://www.kiji.org">Home</a>
            </li>
            <li>
              <a href="http://www.kiji.org/#about">About</a>
            </li>
            <li>
              <a href="http://www.kiji.org/#community">Community</a>
            </li>
            <li class="dropdown">
              <a href="/">Download</a>
              <ul class="dropdown-menu">
                <li class="menu-item">
                  <a href="http://www.kiji.org/#download">Bento Box</a>
                </li>
                <li class="menu-item">
                  <a href="https://github.com/kijiproject">Github Source</a>
                </li>
              </ul>
            </li>
            <li>
            <li class="dropdown">
              <a href="/">Learn</a>
              <ul class="dropdown-menu">
                <li class="menu-item">
                  <a href="http://docs.kiji.org/">Documentation</a>
                </li>
                <li class="menu-item">
                  <a href="http://docs.kiji.org/apidocs/">Java Docs</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.kiji.org/category/presentation/">Presentations</a>
                </li>
                <li class="menu-item">
                  <a href="http://www.kiji.org/category/video/">Videos</a>
                </li>
              </ul>
            </li>
            <li>
              <a href="http://www.kiji.org/blog/">Blog</a>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="content">
        
<div class="row-fluid">
  <div class="span9">
    <div class="page-header">
      <h1>Create a Table</h1>
    </div>

    <div class="pagination">
      <ul>
    
      
      
    
      

      
        
        
          
        
          
        
          
            
            
          
        
          
        
          
            
            
              <li class="prev">
                <a href="/tutorials/phonebook-tutorial/1.1.6/phonebook-setup" title="Setup">
                &larr; Previous
                </a>
              </li>
            
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
            
            
          
        
          
        
          
        
      

      
      
        
        
          
        
          
        
          
            
            
          
        
          
        
          
            
            
          
        
          
        
          
            
            
              <li class="next">
                <a href="/tutorials/phonebook-tutorial/1.1.6/phonebook-point-add" title="Read and Write in Kiji">
                Next &rarr;
                </a>
              </li>
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
            
            
          
        
          
        
          
        
      
      </ul>
    </div>

    <p>We need to create a table to store your bajillion phonebook contacts.
Creating a table in Kiji amounts to specifying a layout and registering
that layout with Kiji. Layouts can be specified using the Kiji
Data Definition Language, <em>DDL</em>, or in a JSON form. The DDL is the easiest
and most well-supported mechanism to use; we will introduce it first.</p>

<h3>Using the DDL</h3>

<p>We assume that you have <code>kiji-schema-shell</code> installed. If not, you should
consult the <a href="http://www.kiji.org/getstarted">Get Started</a> section of the Kiji website.</p>

<p>We have provided the phonebook layout in the <code>$KIJI_HOME/examples/phonebook/layout.ddl</code> file.
For more information about how to create this file, see the
<a href="/userguides/schema/1.5.0/schema-shell-ddl-ref/">DDL Shell Reference</a>.</p>

<div class="userinput">

<div class="highlight"><pre><code class="bash"><span class="nv">$KIJI_HOME</span>/schema-shell/bin/kiji-schema-shell <span class="se">\</span>
    --file<span class="o">=</span><span class="nv">$KIJI_HOME</span>/examples/phonebook/layout.ddl
</code></pre></div>

</div>


<pre><code>OK.
</code></pre>

<h4>Verify</h4>

<p>Enter the KijiSchema shell using the following command:</p>

<div class="userinput">

<div class="highlight"><pre><code class="bash"><span class="nv">$KIJI_HOME</span>/schema-shell/bin/kiji-schema-shell
</code></pre></div>

</div>


<p>Use the <code>show tables</code> and <code>describe</code> commands to see your newly created table.</p>

<div class="userinput">

<div class="highlight"><pre><code class="bash">schema&gt; show tables<span class="p">;</span>
</code></pre></div>

</div>


<pre><code>Table       Description
=========   ==================================
phonebook   A collection of phone book entries
</code></pre>

<div class="userinput">

<div class="highlight"><pre><code class="bash">schema&gt; describe phonebook<span class="p">;</span>
</code></pre></div>

</div>


<pre><code>Table: phonebook (A collection of phone book entries)
Row key:
  key: STRING NOT NULL

Column family: info
  Description: basic information

  Column info:firstname (First name)
    Default reader schema: "string"
    1 reader schema(s) available.
    1 writer schema(s) available.

  Column info:lastname (Last name)
    Default reader schema: "string"
    1 reader schema(s) available.
    1 writer schema(s) available.

  Column info:email (Email address)
    Default reader schema: "string"
    1 reader schema(s) available.
    1 writer schema(s) available.

  Column info:telephone (Telephone number)
    Default reader schema: "string"
    1 reader schema(s) available.
    1 writer schema(s) available.

  Column info:address (Street address)
    Default reader schema class name: org.kiji.examples.phonebook.Address
    1 reader schema(s) available.
    1 writer schema(s) available.

Column family: derived
  Description: Information derived from an individual's address.

  Column derived:addr1 (Address line one.)
    Default reader schema: "string"
    1 reader schema(s) available.
    1 writer schema(s) available.

  Column derived:apt (Address Apartment number.)
    Default reader schema: ["string","null"]
    1 reader schema(s) available.
    1 writer schema(s) available.

  Column derived:addr2 (Address line two.)
    Default reader schema: "string"
    1 reader schema(s) available.
    1 writer schema(s) available.

  Column derived:city (Address city.)
    Default reader schema: "string"
    1 reader schema(s) available.
    1 writer schema(s) available.

  Column derived:state (Address state.)
    Default reader schema: "string"
    1 reader schema(s) available.
    1 writer schema(s) available.

  Column derived:zip (Address zip code.)
    Default reader schema: "int"
    1 reader schema(s) available.
    1 writer schema(s) available.

Column family: stats
  Description: Statistics about a contact.

  Column stats:talktime (Time spent talking with this person)
    Schema: (counter)
</code></pre>

<div class="userinput">

<div class="highlight"><pre><code class="bash">schema&gt; quit<span class="p">;</span>
</code></pre></div>

</div>


<h3>Using JSON</h3>

<p>A low level way of providing the layout is by using JSON. To learn more about specifying
the layout in JSON, take a look at <a href="/userguides/schema/1.5.0/managing-data/">Managing Data</a>.</p>

<p>The raw JSON view of table layouts is intended for use by system administrators, or
for low-level debugging purposes. Most users should use the <code>kiji-schema-shell</code> DDL tool
to modify table layouts instead. But for completeness, we introduce the "raw" layout
tool here as well.</p>

<p>First, we need to delete the table we just created, so that we can create it
another time using JSON. Use the following command to delete the table:</p>

<div class="userinput">

<div class="highlight"><pre><code class="bash"><span class="nv">$KIJI_HOME</span>/bin/kiji delete --target<span class="o">=</span>kiji://.env/default/phonebook
</code></pre></div>

</div>


<pre><code>Are you sure you want to delete Kiji table 'kiji://localhost:2181/default/phonebook/'?
Type 'phonebook' without the quotes to confirm(or nothing to cancel):
phonebook
13/03/13 19:19:28 INFO org.apache.hadoop.hbase.client.HBaseAdmin: Started disable of kiji.default.table.phonebook
13/03/13 19:19:29 INFO org.apache.hadoop.hbase.client.HBaseAdmin: Disabled kiji.default.table.phonebook
13/03/13 19:19:29 INFO org.apache.hadoop.hbase.client.HBaseAdmin: Deleted kiji.default.table.phonebook
Kiji table 'kiji://localhost:2181/default/phonebook/' deleted.
</code></pre>

<p>The command below creates the same phonebook table with the layout specified in the <code>layout.json</code> file in your
<code>$KIJI_HOME/examples/phonebook</code> directory.</p>

<div class="userinput">

<div class="highlight"><pre><code class="bash"><span class="nv">$KIJI_HOME</span>/bin/kiji create-table --table<span class="o">=</span>kiji://.env/default/phonebook <span class="se">\</span>
    --layout<span class="o">=</span><span class="nv">$KIJI_HOME</span>/examples/phonebook/layout.json
</code></pre></div>

</div>




<div class="highlight"><pre><code class="bash">Parsing table layout: <span class="nv">$KIJI_HOME</span>/examples/phonebook/layout.json
Creating Kiji table: kiji://localhost:2181/default/phonebook/
</code></pre></div>


<h4>Verify</h4>

<p>To ensure that your table exists, use the <code>kiji ls</code> command to show the available
tables in your Kiji instance.</p>

<div class="userinput">

<div class="highlight"><pre><code class="bash"><span class="nv">$KIJI_HOME</span>/bin/kiji ls kiji://.env/default
</code></pre></div>

</div>


<p>The above command should list <code>phonebook</code> as a table.</p>


    <div class="pagination">
      <ul>
    
      
      
    
      

      
        
        
          
        
          
        
          
            
            
          
        
          
        
          
            
            
              <li class="prev">
                <a href="/tutorials/phonebook-tutorial/1.1.6/phonebook-setup" title="Setup">
                &larr; Previous
                </a>
              </li>
            
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
            
            
          
        
          
        
          
        
      

      
      
        
        
          
        
          
        
          
            
            
          
        
          
        
          
            
            
          
        
          
        
          
            
            
              <li class="next">
                <a href="/tutorials/phonebook-tutorial/1.1.6/phonebook-point-add" title="Read and Write in Kiji">
                Next &rarr;
                </a>
              </li>
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
            
            
          
        
          
        
          
        
          
        
          
            
            
          
        
          
        
          
            
            
          
        
          
        
          
        
      
      </ul>
    </div>
  </div>

  <div class="span3">
    
      
      
    
    <div class="side-toc">
    <div class="side-toc-inner">
      <h3>Phonebook Tutorial</h3>
      <ul>
        
          
          
            
              
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/phonebook-tutorial/1.1.6/phonebook-tutorial">Overview</a>
                  
                </li>
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/phonebook-tutorial/1.1.6/phonebook-setup">Setup</a>
                  
                </li>
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
                <li>
                  
                    <b>Create a Table</b>
                  
                </li>
              
            
          
            
              
            
          
            
              
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
                <li>
                  
                    <a href="/tutorials/phonebook-tutorial/1.1.6/phonebook-point-add">Read and Write in Kiji</a>
                  
                </li>
              
            
          
            
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
                <li>
                  
                    <a href="/tutorials/phonebook-tutorial/1.1.6/phonebook-import">Import Data</a>
                  
                </li>
              
            
          
            
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
                <li>
                  
                    <a href="/tutorials/phonebook-tutorial/1.1.6/phonebook-derived-columns">Derive Data</a>
                  
                </li>
              
            
          
            
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
                <li>
                  
                    <a href="/tutorials/phonebook-tutorial/1.1.6/phonebook-increment">Use Counters</a>
                  
                </li>
              
            
          
            
              
            
          
            
              
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
              
            
          
            
              
                <li>
                  
                    <a href="/tutorials/phonebook-tutorial/1.1.6/phonebook-delete">Delete Contacts</a>
                  
                </li>
              
            
          
            
              
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
          
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
            
          
        
      </ul>
      <h3>Need Help?</h3>
      <ul>
        <li>
      <a class="btn btn-info"  href="https://groups.google.com/a/kiji.org/forum/?fromgroups#!forum/user">User Group Mailing List</a>
        </li>
        <li>
      <a class="btn btn-warning" href="https://jira.kiji.org/secure/CreateIssueDetails!init.jspa?pid=10004&issuetype=1&priority=3&components=10010&summary=Reported%20Docs%20Error:%20Create a Table&description=Please%20describe%20the%20issue.%0a%0aurl:%20/tutorials/phonebook-tutorial/1.1.6/phonebook-create"> Report an Error in Docs </a> 
        </li>
    </ul>
    </div>
</div>

  </div>
</div>


      </div>

      <footer>
        <hr/>
        <p>&copy; Kiji Community</p>
      </footer>
    </div>

    


  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-REMOVED-DONT-COMMIT']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>



  </body>
</html>

